<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      5.36.&nbsp;Supprimer les symboles des fichiers objets
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-8.0">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version 8.0
      </h4>
      <h3>
        Chapitre&nbsp;5.&nbsp;Construire un système temporaire
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="xz.html" title="Xz-5.2.3">Précédent</a>
          <p>
            Xz-5.2.3
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="changingowner.html" title=
          "Changer de propriétaire">Suivant</a>
          <p>
            Changer de propriétaire
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter05.html" title=
          "Chapitre&nbsp;5.&nbsp;Construire un système temporaire">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 8.0 ">Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="ch-tools-stripping" name="ch-tools-stripping"></a>5.36.
        Supprimer les symboles des fichiers objets
      </h1>
      <p>
        Les étapes de cette section sont optionnelles mais si la partition
        LFS est plutôt petite, il est intéressant d'apprendre que des
        éléments inutiles sont supprimables. Les exécutables et les
        bibliothèques que vous avez construites jusqu'à maintenant
        contiennent jusqu'à 130&nbsp;Mo de symboles de débogages inutiles.
        Supprimez ces symboles avec&nbsp;:
      </p>
      <pre class="userinput"><kbd class=
      "command">strip --strip-debug /tools/lib/*
/usr/bin/strip --strip-unneeded /tools/{,s}bin/*</kbd></pre>
      <p>
        Ces commandes vont laisser de côté une vingtaine de fichiers en
        indiquant qu'elles ne reconnaissent pas leur format. La plupart sont
        des scripts et non pas des binaires. Par ailleurs, utilisez la
        commande strip du système pour inclure le binaire strip dans /tools.
      </p>
      <p>
        Faites attention à ne <span class="emphasis"><em>pas</em></span>
        utiliser <em class="parameter"><code>--strip-unneeded</code></em> sur
        les bibliothèques. Cela détruirait les versions statiques et les
        paquets devraient être de nouveau construits.
      </p>
      <p>
        Pour sauver encore davantage, supprimez toute la documentation&nbsp;:
      </p>
      <pre class="userinput"><kbd class=
      "command">rm -rf /tools/{,share}/{info,man,doc}</kbd></pre>
      <p>
        Il devrait y avoir maintenant au moins 3&nbsp;Go d'espace disque
        libre sur le système de fichiers <code class="envar">$LFS</code> à
        utiliser pour construire et installer Glibc et Gcc dans la prochaine
        phase. Si vous pouvez construire et installer Glibc, vous pourrez
        aussi construire et installer le reste.
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="xz.html" title="Xz-5.2.3">Précédent</a>
          <p>
            Xz-5.2.3
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="changingowner.html" title=
          "Changer de propriétaire">Suivant</a>
          <p>
            Changer de propriétaire
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter05.html" title=
          "Chapitre&nbsp;5.&nbsp;Construire un système temporaire">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 8.0 ">Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
